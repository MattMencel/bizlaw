<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
      }
      .header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #e5e5e5;
      }
      .content {
        margin-bottom: 30px;
      }
      .button {
        display: inline-block;
        background-color: #3b82f6;
        color: white;
        padding: 12px 24px;
        text-decoration: none;
        border-radius: 6px;
        font-weight: 600;
        margin: 20px 0;
      }
      .footer {
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid #e5e5e5;
        font-size: 14px;
        color: #666;
      }
      .org-info {
        background-color: #f8fafc;
        padding: 15px;
        border-radius: 6px;
        margin: 20px 0;
      }
    </style>
  </head>

  <body>
    <div class="header">
      <h1>You're Invited!</h1>
    </div>

    <div class="content">
      <p>Hello,</p>

      <p><strong><%= @inviter.full_name %></strong> has invited you to join <% if @organization %><strong><%= @organization.name %></strong><% else %>our platform<% end %> as a <strong><%= @role_display %></strong>.</p>

      <% if @organization %>
        <div class="org-info">
          <h3>Organization Details</h3>
          <p><strong>Name:</strong> <%= @organization.name %></p>
          <% if @organization.domain %>
            <p><strong>Domain:</strong> <%= @organization.domain %></p>
          <% end %>
        </div>
      <% end %>

      <p>Click the button below to accept your invitation and get started:</p>

      <div style="text-align: center;">
        <a href="<%= @accept_url %>" class="button">Accept Invitation</a>
      </div>

      <p><strong>Your Role:</strong> <%= @role_display %></p>
      <% if @invitation.org_admin? %>
        <p>As an Organization Admin, you'll have permissions to manage your organization, including creating courses, managing terms, and inviting other users.</p>
      <% elsif @invitation.role == 'instructor' %>
        <p>As an Instructor, you'll be able to create and manage courses, assign students to teams, and oversee legal case simulations.</p>
      <% elsif @invitation.role == 'student' %>
        <p>As a Student, you'll participate in legal case simulations, work in teams, and complete course assignments.</p>
      <% end %>

      <p><small>This invitation will expire in 7 days. If you don't accept it by then, you'll need to request a new invitation.</small></p>
    </div>

    <div class="footer">
      <p>If you didn't expect this invitation, you can safely ignore this email.</p>
      <p>If you have any questions, please contact your administrator.</p>
    </div>
  </body>
</html>
